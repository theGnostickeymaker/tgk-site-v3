@layer components {
/* ===================================================
   TGK Card System (matches pillar-grid.njk markup)
   =================================================== */

/* Grid wrapper */
.pillar-grid .grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: var(--space-lg, 1.25rem);
  align-items: stretch;
}

/* Base card */
.gnostic-card {
  --card-radius: var(--border-radius-base, 16px);
  --card-bdr: var(--section-border, rgba(0,0,0,.08));
  --card-bg: var(--card-gradient, linear-gradient(145deg, #ffffff, #f6f6f9));
  --overlay-width: clamp(9rem, 28vw, 12rem);
  --overlay-left-shift: -2.2rem;
  --overlay-bg-gradient: var(--overlay-bg-gradient, linear-gradient(90deg, rgba(0,0,0,.08), rgba(0,0,0,.12)));

  position: relative;
  display: block;
  background: var(--card-bg);
  border: 1px solid var(--card-bdr);
  border-radius: var(--card-radius);
  box-shadow: 0 10px 24px rgba(0,0,0,.06);
  overflow: hidden;
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}

/* Make the whole card clickable */
.gnostic-card .card-link {
  display: flex;
  flex-direction: column;
  min-height: 100%;
  color: inherit;
  text-decoration: none;
  outline: none;
}

/* Media */
.gnostic-card .card-media {
  width: 100%;
  aspect-ratio: 16 / 9;
  overflow: hidden;
  margin: 0;
}
.gnostic-card .card-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Body */
.gnostic-card .card-body {
  padding: var(--space-md, 1rem) var(--space-md, 1rem) var(--space-lg, 1.25rem);
  text-align: center;
}

/* Glyph, title, desc (match partial class names) */
.gnostic-card .card-glyph {
  display: block;
  font-size: clamp(1.8rem, 2.6vw, 2.6rem);
  line-height: 1;
  color: var(--glyph-color, currentColor);
  text-shadow: 0 0 8px var(--shadow-glow, transparent);
  margin-bottom: .5rem;
}
.gnostic-card .card-title {
  font-family: var(--font-display, ui-sans-serif);
  font-weight: 700;
  font-size: clamp(1.0rem, 1.15vw, 1.15rem);
  letter-spacing: .03em;
  color: var(--text-accent, #222);
  text-transform: uppercase;
  margin: 0;
}
.gnostic-card .card-desc {
  margin: .45rem auto 0;
  max-width: 95%;
  color: var(--strong-text, rgba(0,0,0,.72));
  font-size: .95rem;
  line-height: 1.35;
}

/* Badge (from data.tier or explicit badge) */
.gnostic-card .card-badge {
  position: absolute;
  top: .65rem;
  right: .65rem;
  font-size: .7rem;
  font-weight: 700;
  padding: .25rem .45rem;
  border-radius: 999px;
  background: var(--highlight, rgba(255,255,255,.85));
  color: var(--text-accent, #333);
  border: 1px solid var(--section-border, rgba(0,0,0,.12));
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

/* Hover/focus */
.gnostic-card:hover,
.gnostic-card:focus-within {
  transform: translateY(-2px);
  box-shadow: 0 14px 28px rgba(0,0,0,.10);
  border-color: var(--highlight, currentColor);
}
.gnostic-card .card-link:focus-visible {
  outline: 2px solid var(--highlight, #bfa865);
  outline-offset: 3px;
  border-radius: inherit;
}

/* State ribbons (diagonal) — no extra markup needed */
.gnostic-card.coming-soon::before,
.gnostic-card.premium::before,
.gnostic-card.free::before {
  content: attr(data-ribbon);
  /* fallback text if data-ribbon omitted: */
  content: var(--ribbon-text, "Ribbon");
  position: absolute;
  top: var(--space-lg, 1.25rem);
  left: var(--overlay-left-shift);
  width: var(--overlay-width);
  transform: rotate(-45deg);
  text-align: center;
  background: var(--overlay-bg-gradient, linear-gradient(90deg, rgba(0,0,0,.08), rgba(0,0,0,.16)));
  color: var(--text-accent, #333);
  font-family: var(--font-display, ui-sans-serif);
  font-size: var(--font-size-vs, .72rem);
  font-weight: 800;
  padding: .28rem 0;
  letter-spacing: .08em;
  text-transform: uppercase;
  border-top: 1px solid var(--text-accent, #333);
  border-bottom: 1px solid var(--text-accent, #333);
  text-shadow: 0 0 6px var(--shadow-glow, transparent);
  pointer-events: none;
  z-index: 2;
}

/* Auto text for states if you don’t set data-ribbon in HTML */
.gnostic-card.coming-soon { --ribbon-text: "Coming Soon"; }
.gnostic-card.premium    { --ribbon-text: "Premium"; }
.gnostic-card.free       { --ribbon-text: "Free"; }

/* So “coming soon” feels inactive */
.gnostic-card.coming-soon .card-link { cursor: not-allowed; }
.gnostic-card.coming-soon { filter: saturate(.85); }

/* Nice spacing inside grid cards (mobile first) */
@media (min-width: 900px) {
  .pillar-grid .grid { gap: var(--space-xl, 1.75rem); }
}

/* Optional: keep cards equal height */
.gnostic-card .card-body { flex: 1 1 auto; }

/* Optional: soft divider component you use */
.gnostic-divider { display: flex; justify-content: center; padding: 1.5rem 0; opacity: .9; }
.gnostic-divider .divider-symbol { font-size: 1.25rem; }


}
