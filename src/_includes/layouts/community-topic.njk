{# ============================================================
   TGK â€” Global Community Topic Template (v1.0)
   All topic pages inherit this layout.
============================================================ #}

{% extends "base.njk" %}  

{% block content %}
<main class="main-content">
  <section class="content-container">

    <!-- INTRO SECTION -->
    <section class="section-block">
      <h1 class="section-heading">
        {{ title or ("Topic: " + topicId | labelize) }}
      </h1>

      {% if description %}
        <p class="lead">{{ description }}</p>
      {% endif %}
    </section>

    <!-- PARTICIPATION GUIDANCE -->
    <section class="section-block">
      <h2 class="section-heading">How to Participate</h2>

      <ul class="rules-list">
        <li>Begin every reply with a Steel Man summary.</li>
        <li>Engage ideas, not individuals.</li>
        <li>Clarify before criticising.</li>
        <li>Protect clarity and intellectual honesty.</li>
      </ul>

      <p class="muted small">
        Full guidelines:
        <a href="/pillars/tgk-community/guide/charter/" class="link-accent">TGK Community Charter</a>.
      </p>
    </section>

    <!-- DISCUSSION ENGINE -->
    <section id="discussion-root"
             class="section-block"
             data-topic-id="{{ topicId }}">
      {% include "components/discussion/reply-prompt.njk" %}
      {% include "components/discussion/thread-list.njk" %}
    </section>

  </section>
</main>
{% endblock %}

{% block scripts %}
{{ super() }}
  <script type="module" src="/js/discussion-topic.js"></script>
  <script type="module" src="/js/community-delete.js"></script>
  <script type="module" src="/js/community-edit.js"></script>
{% endblock %}
